This file contains the warnings and issues found during my attempt to
build schismtracker with MSVC.

* Platform Layer TODO

** UNISTD dependency: STDIN_FILENO

#+begin_example
../schism/slurp.c:195:23: error: use of undeclared identifier 'STDIN_FILENO'

                if (_slurp_stdio(t, STDIN_FILENO))
#+end_example

This is the posix file descriptor equivalent to the C standard stdin FILE* handle.
                
** Use of PATH_MAX to define arrays containing paths

Note: GNU libc claims that PATH_MAX is supposed to include the \0 terminator. So below whenever we see PATH_MAX + 1 we are producing a potentially too long filename.
URL(http://www.gnu.org/software/libc/manual/html_node/Limits-for-Files.html)

This constant is anyway problematic, because it would depend from filesystem to filesystem. It would be best understood as a local application limit i.e. a choice that affects an entire application with respect to its memory management.

Microsoft has a constant MAX_PATH that represents the maximum (260) that the traditional DOS paths can have. It also includes the nul terminator.

In headers.h there is also NAME_MAX which is set to MAXPATHLEN or FILENAME_MAX

Now on to the full list of references:

#+begin_example
schismtracker/include/disko.h:39:16: error: use of undeclared identifier 'PATH_MAX'
 char tempname[PATH_MAX];
               ^
schismtracker/include/disko.h:42:16: error: use of undeclared identifier 'PATH_MAX'
 char filename[PATH_MAX];

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:51:20: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
char song_filename[PATH_MAX + 1];

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:86:32: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  strncpy(song_filename, file, PATH_MAX);

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:88:17: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  song_filename[PATH_MAX] = '\0';

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:39:22: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
char cfg_dir_modules[PATH_MAX + 1], cfg_dir_samples[PATH_MAX + 1], cfg_dir_instruments[PATH_MAX + 1],

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:39:53: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
char cfg_dir_modules[PATH_MAX + 1], cfg_dir_samples[PATH_MAX + 1], cfg_dir_instruments[PATH_MAX + 1],

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:39:88: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
char cfg_dir_modules[PATH_MAX + 1], cfg_dir_samples[PATH_MAX + 1], cfg_dir_instruments[PATH_MAX + 1],

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:40:20: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 cfg_dir_dotschism[PATH_MAX + 1], cfg_font[260 + 1];
 
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:66:34: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 strncpy(cfg_dir_dotschism, ptr, PATH_MAX);
 
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:67:20: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 cfg_dir_dotschism[PATH_MAX] = 0;
 
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:143:66: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 cfg_get_string(&cfg, "Directories", "modules", cfg_dir_modules, PATH_MAX, tmp);
                                                                 
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:144:66: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 cfg_get_string(&cfg, "Directories", "samples", cfg_dir_samples, PATH_MAX, tmp);

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:145:74: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 cfg_get_string(&cfg, "Directories", "instruments", cfg_dir_instruments, PATH_MAX, tmp);
 
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:150:36: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  strncpy(cfg_module_pattern, ptr, PATH_MAX);

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:151:22: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  cfg_module_pattern[PATH_MAX] = 0;
  
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:156:36: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  strncpy(cfg_export_pattern, ptr, PATH_MAX);
  
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:157:22: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
  cfg_export_pattern[PATH_MAX] = 0;
  
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:232:17: error: use of undeclared identifier 'PATH_MAX'; did you mean 'PAGE_MAX'?
 if (len + 6 >= PATH_MAX) {

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c (3 hits)
Line 52: char song_basename[NAME_MAX + 1];
Line 87: 		strncpy(song_basename, get_basename(file), NAME_MAX);
Line 89: 		song_basename[NAME_MAX] = '\0';

H:\3rdparty\schismtracker-build\schismtracker\schism\config.c (2 hits)
Line 40: 	cfg_dir_dotschism[PATH_MAX + 1], cfg_font[NAME_MAX + 1];
Line 234: 	cfg_get_string(&cfg, "General", "font", cfg_font, NAME_MAX, "font.cfg");

H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c (2 hits)
Line 441: static char search_text[NAME_MAX + 1] = "";
Line 493: 	if (search_text_length >= NAME_MAX)

H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c (4 hits)
Line 1076: static char export_sample_filename[NAME_MAX + 1] = "";
Line 1181: 			 export_sample_filename, NAME_MAX);
Line 1189: 	strncpy(export_sample_filename, sample->filename, NAME_MAX);
Line 1190: 	export_sample_filename[NAME_MAX] = 0;
 
H:\3rdparty\schismtracker-build\schismtracker\sys\macosx\macosx-sdlmain.m (3 hits)
Line 54: #import <sys/param.h> /* for MAXPATHLEN */
Line 146:                 char parentdir[MAXPATHLEN];
Line 149:                 if (CFURLGetFileSystemRepresentation(url2, true, (unsigned char *) parentdir, MAXPATHLEN)) {

H:\3rdparty\schismtracker-build\schismtracker\sys\wii\isfs.c (4 hits)
Line 110: 	if (dirnameLength >= ISFS_MAXPATHLEN) return NULL;
Line 115: 	    if (dirnameLength == strnlen(entry->name, ISFS_MAXPATHLEN - 1)
Line 306:     strncpy(filename, entry->name, ISFS_MAXPATHLEN - 1);
Line 377: 	if ((ISFS_MAXPATHLEN * fileCount) > BUFFER_SIZE) return false;

H:\3rdparty\schismtracker-build\schismtracker\sys\wii\isfs.h (1 hit)
Line 34: #define ISFS_MAXPATHLEN (ISFS_MAXPATH + 1)
H:\3rdparty\schismtracker-build\TODO.md (1 hit)

H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1113:41: error: use of undeclared identifier 'PATH_MAX'
  strncpy(cfg_dir_modules, initial_dir, PATH_MAX);
                                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1114:19: error: use of undeclared identifier 'PATH_MAX'
  cfg_dir_modules[PATH_MAX] = 0;
                  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1115:41: error: use of undeclared identifier 'PATH_MAX'
  strncpy(cfg_dir_samples, initial_dir, PATH_MAX);
                                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1116:19: error: use of undeclared identifier 'PATH_MAX'
  cfg_dir_samples[PATH_MAX] = 0;
                  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1117:45: error: use of undeclared identifier 'PATH_MAX'
  strncpy(cfg_dir_instruments, initial_dir, PATH_MAX);
                                            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1118:23: error: use of undeclared identifier 'PATH_MAX'
  cfg_dir_instruments[PATH_MAX] = 0;
                      ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:86:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:47:22: error: use of undeclared identifier 'PATH_MAX'
static char inst_cwd[PATH_MAX+1] = "";
                     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:68:30: error: use of undeclared identifier 'PATH_MAX'
static char slash_search_str[PATH_MAX];
                             ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:142:37: error: use of undeclared identifier 'PATH_MAX'
  strncpy(cfg_dir_instruments, ptr, PATH_MAX);
                                    ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:143:23: error: use of undeclared identifier 'PATH_MAX'
  cfg_dir_instruments[PATH_MAX] = 0;
                      ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:146:25: error: use of undeclared identifier 'PATH_MAX'
 strncpy(inst_cwd, ptr, PATH_MAX);
                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:147:11: error: use of undeclared identifier 'PATH_MAX'
 inst_cwd[PATH_MAX] = 0;
          ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:86:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:407:28: error: use of undeclared identifier 'PATH_MAX'
   if (slash_search_mode < PATH_MAX) {
                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:125:28: error: use of undeclared identifier 'PATH_MAX'
static char filename_entry[PATH_MAX + 1] = "";
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:126:27: error: use of undeclared identifier 'PATH_MAX'
static char dirname_entry[PATH_MAX + 1] = "";
                          ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:128:25: error: use of undeclared identifier 'PATH_MAX'
char cfg_module_pattern[PATH_MAX + 1] = "*.it; *.xm; *.s3m; *.mtm; *.669; *.mod" "; *.mdl; *.mt2; *.stm; *.far; *.ult; *.med; *.ptm; *.okt; *.amf; *.dmf; *.imf; *.sfx; *.mus";
                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:129:25: error: use of undeclared identifier 'PATH_MAX'
char cfg_export_pattern[PATH_MAX + 1] = "*.wav; *.aiff; *.aif";
                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:131:27: error: use of undeclared identifier 'PATH_MAX'
static char glob_list_src[PATH_MAX + 1] = "";
          
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:417:35: error: use of undeclared identifier 'PATH_MAX'
 strncpy(glob_list_src, globspec, PATH_MAX);
                                  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:418:16: error: use of undeclared identifier 'PATH_MAX'
 glob_list_src[PATH_MAX] = '\0';
               ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:538:32: error: use of undeclared identifier 'PATH_MAX'
 strncpy(cfg_dir_modules, ptr, PATH_MAX);
                               ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:539:18: error: use of undeclared identifier 'PATH_MAX'
 cfg_dir_modules[PATH_MAX] = 0;
                 ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:1036:93: error: use of undeclared identifier 'PATH_MAX'
 create_textentry(widgets_loadmodule + 2, 13, 46, 64, 0, 3, 3, ((void *)0), filename_entry, PATH_MAX);
                                                                                            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:1038:92: error: use of undeclared identifier 'PATH_MAX'
 create_textentry(widgets_loadmodule + 3, 13, 47, 64, 2, 3, 0, ((void *)0), dirname_entry, PATH_MAX);
                                                                                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:1102:93: error: use of undeclared identifier 'PATH_MAX'
 create_textentry(widgets_exportsave + 2, 13, 46, 64, 0, 3, 3, ((void *)0), filename_entry, PATH_MAX);
                                                                                            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:1104:92: error: use of undeclared identifier 'PATH_MAX'
 create_textentry(widgets_exportsave + 3, 13, 47, 64, 2, 0, 0, ((void *)0), dirname_entry, PATH_MAX);
                                                                                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:51:30: error: use of undeclared identifier 'PATH_MAX'
static char current_filename[PATH_MAX];
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:87:24: error: use of undeclared identifier 'PATH_MAX'
static char search_str[PATH_MAX];
                       ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:125:6: error: use of undeclared identifier 'PATH_MAX'
     PATH_MAX-1);
     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:128:6: error: use of undeclared identifier 'PATH_MAX'
     PATH_MAX-1);
     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:205:32: error: use of undeclared identifier 'PATH_MAX'
 strncpy(cfg_dir_samples, ptr, PATH_MAX);
                               ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:206:18: error: use of undeclared identifier 'PATH_MAX'
 cfg_dir_samples[PATH_MAX] = 0;
                 ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:718:21: error: use of undeclared identifier 'PATH_MAX'
   if (search_pos < PATH_MAX) {
                    ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:122:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_vars.c:230:22: error: use of undeclared identifier 'PATH_MAX'
    cfg_dir_modules, PATH_MAX);
                     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_vars.c:232:22: error: use of undeclared identifier 'PATH_MAX'
    cfg_dir_samples, PATH_MAX);
                     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_vars.c:234:26: error: use of undeclared identifier 'PATH_MAX'
    cfg_dir_instruments, PATH_MAX);
                         ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:571:11: error: use of undeclared identifier 'PATH_MAX'
 char buf[PATH_MAX];
          ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:574:25: error: use of undeclared identifier 'PATH_MAX'
 if (strlen(filename) > PATH_MAX - 16) {
                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:626:11: error: use of undeclared identifier 'PATH_MAX'
 char buf[PATH_MAX + 1];
          ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:725:11: error: use of undeclared identifier 'PATH_MAX'
 char buf[PATH_MAX];
          ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:727:12: error: use of undeclared identifier 'PATH_MAX'
 char buf2[PATH_MAX];
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:731:28: error: use of undeclared identifier 'PATH_MAX'
 if (!GetCurrentDirectoryA(PATH_MAX-1,buf)) return 0;
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:732:17: error: use of undeclared identifier 'PATH_MAX'
 snprintf(buf2, PATH_MAX-2, "%s.bat", name);
                ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:651:18: error: use of undeclared identifier 'PATH_MAX'
 if (getcwd(buf, PATH_MAX))
                 ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:661:11: error: use of undeclared identifier 'PATH_MAX'
 char buf[PATH_MAX + 1];
          ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:629:18: error: use of undeclared identifier 'PATH_MAX'
 if (getcwd(buf, PATH_MAX))
                 ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:637:11: error: use of undeclared identifier 'PATH_MAX'
 char buf[PATH_MAX + 1];
          ^
#+end_example

** Time: struct timeval / gettimeofday / tzset

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:707:17: error: variable has incomplete type 'struct timeval'
 struct timeval savetime, elapsed;

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:707:27: error: variable has incomplete type 'struct timeval'
 struct timeval savetime, elapsed;

H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:713:2: error: implicit declaration of function 'gettimeofday' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 gettimeofday(&savetime, ((void *)0));

H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:589:23: error: tentative definition of variable with internal linkage has incomplete non-array type 'struct timeval' [-Werror,-Wtentative-definition-incomplete-type]
static struct timeval export_start_time;

In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:793:17: error: variable has incomplete type 'struct timeval'
 struct timeval export_end_time;
                ^
schismtracker/include\sndfile.h:588:9: note: forward declaration of 'struct timeval'
 struct timeval editstart;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:833:56: error: incomplete definition of type 'struct timeval'
  elapsed = (export_end_time.tv_sec - export_start_time.tv_sec)

H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:834:51: error: incomplete definition of type 'struct timeval'
   + ((export_end_time.tv_usec - export_start_time.tv_usec) / 1000000.0);

H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1032:2: error: 'tzset' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _tzset. See online help for details. [-Werror,-Wdeprecated-declarations]
 tzset();
 ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\time.h:593:186: note: 'tzset' has been explicitly marked deprecated here
        __declspec(deprecated("The POSIX name for this item is deprecated. Instead, use the ISO C " "and C++ conformant name: " "_tzset" ". See online help for details.")) void __cdecl tzset(void);
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:589:23: error: tentative definition has type 'struct timeval' that is never completed
static struct timeval export_start_time;
                      ^
schismtracker/include\sndfile.h:588:9: note: forward declaration of 'struct timeval'
 struct timeval editstart;
        ^
                                                                                                                                                                                         ^

** String manipulation

There seems to be a str_dup somewhere in the codebase

#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:643:10: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
  return strdup(buf);
         ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:663:10: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
  return strdup(buf);
         ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:75:6: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
 q = strdup(s);
     ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:152:6: error: 'strdup' is deprecated: 
The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. 
See online help for details. [-Werror,-Wdeprecated-declarations]
 a = strdup(i);
     ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\isysev.c:760:8: error: implicitly declaring library function 'strncasecmp' with type 'int (const char *, const char *, unsigned int)' [-Werror]
   if (strncasecmp(skdev_names[n], s, len) == 0) {
       ^
H:\3rdparty\schismtracker-build\schismtracker\schism\isysev.c:580:12: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
 m->name = strdup(name);
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:788:51: error: incomplete definition of type 'struct direct'
   if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0)
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:788:18: error: incomplete definition of type 'struct direct'
   if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0)
              ~~~^
H:\3rdparty\schismtracker-build\schismtracker\schism\audio_loadsave.c:971:7: error: implicitly declaring library function 'strcasecmp' with type 'int (const char *, const char *)' [-Werror]
  if (strcasecmp(song_filename, mangle))
      ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:666:6: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
 s = strdup(template);
     ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:247:11: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
 result = strdup(path);
          ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:346:10: error: 'strdup' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _strdup. See online help for details. [-Werror,-Wdeprecated-declarations]
  return strdup(b);
         ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\string.h:552:28: note: 'strdup' has been explicitly marked deprecated here
             char* __cdecl strdup(
                           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:783:25: error: incomplete definition of type 'struct direct'
   namlen = strlen((ent)->d_name);
#+end_example

** File System Queries & Manipulation

#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:733:6: error: implicit declaration of function 'chdir' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 if (chdir(dir) == -1) return 0;
     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:629:6: error: implicit declaration of function 'getcwd' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 if (getcwd(buf, PATH_MAX))
     ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:614:2: error: 'unlink' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _unlink. See online help for details. [-Werror,-Wdeprecated-declarations]
 unlink(ptr);
 ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:380:26: note: 'unlink' has been explicitly marked deprecated here
             int __cdecl unlink(
                         ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:645:2: error: 'unlink' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _unlink. See online help for details. [-Werror,-Wdeprecated-declarations]
 unlink(ptr);
 ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:380:26: note: 'unlink' has been explicitly marked deprecated here
             int __cdecl unlink(
                         ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:355:2: error: 'unlink' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _unlink. See online help for details. [-Werror,-Wdeprecated-declarations]
 unlink(ptr);
 ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:380:26: note: 'unlink' has been explicitly marked deprecated here
             int __cdecl unlink(
                         ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:820:3: error: implicit declaration of function 'closedir' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  closedir(dir);
  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:820:12: error: use of undeclared identifier 'dir'; did you mean 'div'?
  closedir(dir);
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:816:42: error: incomplete definition of type 'struct direct'
    dmoz_add_file(flist, ptr, str_dup(ent->d_name), &st, 1);
                                      ~~~^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:814:56: error: incomplete definition of type 'struct direct'
    dmoz_add_file_or_dir(flist, dlist, ptr, str_dup(ent->d_name), &st, 0);
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:797:40: error: incomplete definition of type 'struct direct'
   ptr = dmoz_path_concat_len(path, ent->d_name, pathlen, namlen);
                                    ~~~^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:759:9: note: forward declaration of 'struct direct'
 struct direct *ent;
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:17:
H:\3rdparty\schismtracker-build\schismtracker\schism\config-parser.c:270:6: error: implicit declaration of function 'S_ISDIR' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 if (S_ISDIR(buf.st_mode)) {
     ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:20:
H:\3rdparty\schismtracker-build\schismtracker\schism\config.c:74:7: error: implicit declaration of function 'mkdir' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  if (mkdir(cfg_dir_dotschism) != 0) {
      ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:239:6: error: implicit declaration of function 'access' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 if (access(filename, W_OK) != 0 && (*_errno()) != 2)
     ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:239:23: error: use of undeclared identifier 'W_OK'; did you mean 'DW_OK'?
 if (access(filename, W_OK) != 0 && (*_errno()) != 2)
                      ^~~~
                      DW_OK
schismtracker/include/disko.h:61:2: note: 'DW_OK' declared here
 DW_OK = 1,
 ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:262:3: error: 'unlink' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _unlink. See online help for details. [-Werror,-Wdeprecated-declarations]
  unlink(ds->tempname);
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:380:26: note: 'unlink' has been explicitly marked deprecated here
             int __cdecl unlink(
                         ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:294:4: error: use of undeclared identifier 'mode_t'
   mode_t m = umask(0777);
   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:295:4: error: implicit declaration of function 'umask' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
   umask(m);
   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:295:10: error: use of undeclared identifier 'm'
   umask(m);
         ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:296:25: error: use of undeclared identifier 'm'
   st.st_mode = 0666 & ~m;
                        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:308:4: error: implicit declaration of function 'chmod' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
   chmod(ds->filename, st.st_mode);
   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:314:3: error: 'unlink' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _unlink. See online help for details. [-Werror,-Wdeprecated-declarations]
  unlink(ds->tempname);
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:380:26: note: 'unlink' has been explicitly marked deprecated here
             int __cdecl unlink(
                         ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:540:13: error: implicit declaration of function 'S_ISREG' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 } else if (S_ISREG(st->st_mode)) {
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:758:2: error: use of undeclared identifier 'DIR'
 DIR *dir;
 ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:758:7: error: use of undeclared identifier 'dir'; did you mean 'div'?
 DIR *dir;
      ^~~
      div
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:293:39: note: 'div' declared here
                        div_t __cdecl div ( int _Numerator, int _Denominator);
                                      ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:780:2: error: use of undeclared identifier 'dir'
 dir = opendir(path);
 ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:780:8: error: implicit declaration of function 'opendir' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 dir = opendir(path);
       ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:781:6: error: use of undeclared identifier 'dir'; did you mean 'div'?
 if (dir) {
     ^~~
     div
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:293:39: note: 'div' declared here
                        div_t __cdecl div ( int _Numerator, int _Denominator);
                                      ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:29:
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:781:6: error: address of function 'div' will always evaluate to 'true' [-Werror,-Wpointer-bool-conversion]
 if (dir) {
 ~~  ^~~
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:781:6: note: prefix with the address-of operator to silence this warning
 if (dir) {
     ^
     &
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:782:17: error: implicit declaration of function 'readdir' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  while ((ent = readdir(dir)) != ((void *)0)) {
                ^
H:\3rdparty\schismtracker-build\schismtracker\schism\dmoz.c:782:25: error: use of undeclared identifier 'dir'; did you mean 'div'?
  while ((ent = readdir(dir)) != ((void *)0)) {
                        ^~~
                        div
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:293:39: note: 'div' declared here
                        div_t __cdecl div ( int _Numerator, int _Denominator);
                                      ^
#+end_example

** File I/O

#+begin_example
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:140:
H:\3rdparty\schismtracker-build\schismtracker\schism\slurp.c:195:23: error: use of undeclared identifier 'STDIN_FILENO'
  if (_slurp_stdio(t, STDIN_FILENO))
                      ^
H:\3rdparty\schismtracker-build\schismtracker\schism\slurp.c:219:7: error: implicit declaration of function 'open' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 fd = open(filename, 0x0000 | 0x8000);
      ^

In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:140:
H:\3rdparty\schismtracker-build\schismtracker\schism\slurp.c:88:7: error: 'fdopen' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _fdopen. See online help for details. [-Werror,-Wdeprecated-declarations]
 fp = fdopen(fd, "rb");
      ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:2448:203: note: 'fdopen' has been explicitly marked deprecated here
                       __declspec(deprecated("The POSIX name for this item is deprecated. Instead, use the ISO C " "and C++ conformant name: " "_fdopen" ". See online help for details.")) FILE* __cdecl fdopen( int _FileHandle, char const* _Format);
                                                                                                                                                                                                          ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:140:
H:\3rdparty\schismtracker-build\schismtracker\schism\slurp.c:133:7: error: 'fdopen' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _fdopen. See online help for details. [-Werror,-Wdeprecated-declarations]
 fp = fdopen(fd, "rb");
      ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:2448:203: note: 'fdopen' has been explicitly marked deprecated here
                       __declspec(deprecated("The POSIX name for this item is deprecated. Instead, use the ISO C " "and C++ conformant name: " "_fdopen" ". See online help for details.")) FILE* __cdecl fdopen( int _FileHandle, char const* _Format);
                                                                                                                                                                                                          ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:258:13: error: 'fdopen' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _fdopen. See online help for details. [-Werror,-Wdeprecated-declarations]
 ds->file = fdopen(fd, "wb");
            ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:2448:203: note: 'fdopen' has been explicitly marked deprecated here
                       __declspec(deprecated("The POSIX name for this item is deprecated. Instead, use the ISO C " "and C++ conformant name: " "_fdopen" ". See online help for details.")) FILE* __cdecl fdopen( int _FileHandle, char const* _Format);
                                                                                                                                                                                                          ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:26:
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:261:3: error: implicit declaration of function 'close' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
  close(fd);
  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\disko.c:261:3: note: did you mean 'fclose'?
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdio.h:144:22: note: 'fclose' declared here
         int __cdecl fclose(
                     ^
#+end_example

** Getopt API (Command Line Parsing)

#+begin_example
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:50:
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:266:28: error: array has incomplete element type 'struct option'
 struct option long_options[] = {
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:266:9: note: forward declaration of 'struct option'
 struct option long_options[] = {
        ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:308:16: error: implicit declaration of function 'getopt_long' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
 while ((opt = getopt_long(argc, argv, "a:v:fFpPh", long_options, ((void *)0))) != -1) {
#+end_example
               
** OS Environment Variables

#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:496:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv("SDL_VIDEODRIVER=windib");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:498:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv("SDL_VIDEODRIVER=directx");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:501:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv("SDL_VIDEODRIVER=directx");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:526:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEO_YUV_DIRECT=1");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:527:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEO_YUV_HWACCEL=1");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:528:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEODRIVER=x11");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:557:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEODRIVER=aalib");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:563:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEO_YUV_DIRECT=1");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:564:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEO_YUV_HWACCEL=1");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:155:
H:\3rdparty\schismtracker-build\schismtracker\schism\video.c:571:3: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
  putenv((char *) "SDL_VIDEODRIVER=dummy");
  ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:692:2: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
 putenv(key);
 ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:701:6: error: 'putenv' is deprecated: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name: _putenv. See online help for details. [-Werror,-Wdeprecated-declarations]
 if (putenv(x) == -1) {
     ^
C:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt\stdlib.h:1349:30: note: 'putenv' has been explicitly marked deprecated here
                 int __cdecl putenv(
                             ^
#+end_example

** Date Parsing & Formatting
** Unclassified
* Other TODO

Basic build:

#+begin_example
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:152:
H:\3rdparty\schismtracker-build\schismtracker\schism\version.c:98:17: error: use of undeclared identifier 'VERSION'
 ret = strptime(VERSION, "%Y %m %d", version);
#+end_example

** Unity build warnings


#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\keyboard.c:582:16: error: static variable 'current_octave' is used in an inline function with external linkage [-Werror,-Wstatic-in-inline]
 note += (12 * current_octave);
               ^
schismtracker/include\it.h:387:1: note: use 'static' to give inline function 'kbd_get_note' internal linkage
int kbd_get_note(struct key_event *k);
^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:62:
H:\3rdparty\schismtracker-build\schismtracker\schism\mplink.c:174:28: error: static variable 'channel_states' is used in an inline function with external linkage [-Werror,-Wstatic-in-inline]
  song_set_channel_mute(n, channel_states[n]);
static 
H:\3rdparty\schismtracker-build\schismtracker\schism\mplink.c:129:12: note: 'channel_states' declared here
static int channel_states[64];

schismtracker/include\song.h:166:1: note: use 'static' to give inline function 'song_restore_channel_states' internal linkage
void song_restore_channel_states(void);
^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:65:
H:\3rdparty\schismtracker-build\schismtracker\schism\page.c:156:20: error: redefinition of 'draw_time'
static inline void draw_time(void)
                   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\itf.c:418:20: note: previous definition is here
static inline void draw_time(void)
                   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:542:13: error: redefinition of 'event_loop'
static void event_loop(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\isysev.c:984:13: note: previous definition is here
static void event_loop(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:50:
H:\3rdparty\schismtracker-build\schismtracker\schism\main.c:1015:5: error: redefinition of 'SDL_main'
int SDL_main(int argc, char **argv)
    ^
H:\3rdparty\schismtracker-build\schismtracker\schism\isysev.c:1263:5: note: previous definition is here
int SDL_main(int argc, char **argv)
    ^

In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:86:12: error: redefinition of 'top_file'
static int top_file = 0, top_dir = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:61:12: note: previous definition is here
static int top_file = 0;
           ^
                          ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:322:19: error: redefinition of 'get_type_color'
static inline int get_type_color(int type)
                  ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:71:19: note: previous definition is here
static inline int get_type_color(int type)
                  ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:342:13: error: redefinition of 'clear_directory'
static void clear_directory(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:85:13: note: previous definition is here
static void clear_directory(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:362:13: error: redefinition of 'file_list_reposition'
static void file_list_reposition(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:98:13: note: previous definition is here
static void file_list_reposition(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:386:13: error: redefinition of 'read_directory'
static void read_directory(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:109:13: note: previous definition is here
static void read_directory(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:529:12: error: redefinition of 'change_dir'
static int change_dir(const char *dir)
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:131:12: note: previous definition is here
static int change_dir(const char *dir)
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:576:13: error: redefinition of 'file_list_draw'
static void file_list_draw(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:204:13: note: previous definition is here
static void file_list_draw(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:634:13: error: redefinition of 'do_delete_file'
static void do_delete_file( void *data)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:344:13: note: previous definition is here
static void do_delete_file( void *data)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:89:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadmodule.c:682:12: error: redefinition of 'file_list_handle_key'
static int file_list_handle_key(struct key_event * k)
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:372:12: note: previous definition is here
static int file_list_handle_key(struct key_event * k)
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:59:12: error: redefinition of '_library_mode'
static int _library_mode = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:63:12: note: previous definition is here
static int _library_mode = 0;
           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:81:12: error: redefinition of 'top_file'
static int top_file = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:61:12: note: previous definition is here
static int top_file = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:319:13: error: redefinition of '_common_set_page'
static void _common_set_page(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:166:13: note: previous definition is here
static void _common_set_page(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:531:13: error: redefinition of 'reposition_at_slash_search'
static void reposition_at_slash_search(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:284:13: note: previous definition is here
static void reposition_at_slash_search(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:92:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:557:13: error: redefinition of 'handle_enter_key'
static void handle_enter_key(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadinst.c:310:13: note: previous definition is here
static void handle_enter_key(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:95:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_log.c:56:24: error: redefinition of 'lines' with a
different type: 'struct log_line [1000]' vs 'const char **'
static struct log_line lines[1000];
                       ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_help.c:79:21: note: previous definition is here
static const char **lines = ((void *)0);
                    ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:95:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_log.c:57:12: error: redefinition of 'top_line'
static int top_line = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_help.c:82:12: note: previous definition is here
static int top_line = 0;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_log.c:156:6: error: static variable 'last_line'
is used in an inline function with external linkage [-Werror,-Wstatic-in-inline]
 if (last_line < 1000 - 1) {
     ^
schismtracker/include/log.h:28:1: note: use 'static' to give inline function 'log_append2' internal linkage
void log_append2(int bios_font, int color, int must_free, const char *text);
^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:113:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_patedit.c:169:28: error: redefinition of 'clipboard' with a different type: 'struct pattern_snap' vs 'uint8_t [8]'
static struct pattern_snap clipboard = {
                           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\itf.c:194:16: note: previous definition is here
static uint8_t clipboard[8] = { 0 };
               ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:36:30: error: redefinition of 'sample_image'
static struct vgamem_overlay sample_image = {
                             ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:46:30: note: previous definition is here
static struct vgamem_overlay sample_image = {
                             ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:48:12: error: redefinition of '_altswap_lastvis'
static int _altswap_lastvis = 99;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_instruments.c:83:12: note: previous definition is here
static int _altswap_lastvis = 99;
           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:58:26: error: redefinition of 'loop_states'
static const char *const loop_states[] = { "Off", "On Forwards", "On Ping Pong", ((void *)0) };
                         ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_loadsample.c:64:26: note: previous definition is here
static const char *const loop_states[] = {
                         ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:61:12: error: redefinition of 'last_note'
static int last_note = 61;
           ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_instruments.c:106:12: note: previous definition is here
static int last_note = 61;
           ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:610:13: error: redefinition of 'do_post_loop_cut'
static void do_post_loop_cut( void *bweh)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_instruments.c:1267:13: note: previous definition is here
static void do_post_loop_cut(void *ign)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:631:13: error: redefinition of 'do_pre_loop_cut'
static void do_pre_loop_cut( void *bweh)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_instruments.c:1233:13: note: previous definition is here
static void do_pre_loop_cut(void *ign)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:119:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:1699:13: error: redefinition of 'update_filename'
static void update_filename(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_instruments.c:2332:13: note: previous definition is here
static void update_filename(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:122:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_vars.c:93:13: error: redefinition of 'update_values_in_song'
static void update_values_in_song(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_samples.c:1650:13: note: previous definition is here
static void update_values_in_song(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:122:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_vars.c:132:13: error: redefinition of 'song_changed_cb'
static void song_changed_cb(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_message.c:801:13: note: previous definition is here
static void song_changed_cb(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:125:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_waterfall.c:64:30: error: redefinition of 'ovl' with a different type: 'struct vgamem_overlay' vs 'unsigned char [256000]'
static struct vgamem_overlay ovl = { 0, 0, 79, 49, ((void *)0), 0, 0, 0 };
                             ^
H:\3rdparty\schismtracker-build\schismtracker\schism\draw-char.c:372:22: note: previous definition is here
static unsigned char ovl[640*400];
                     ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:125:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_waterfall.c:199:20: error: conflicting types for '_get_columns_from_fft'
static inline void _get_columns_from_fft(unsigned char *out,
                   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page.c:1355:20: note: previous definition is here
static inline void _get_columns_from_fft(unsigned char *out, short d[2][1024])
                   ^
H:\3rdparty\schismtracker-build\schismtracker\schism\page_waterfall.c:388:13: error: redefinition of 'draw_screen'
static void draw_screen(void)
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\itf.c:427:13: note: previous definition is here
static void draw_screen(void)
            ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:125:
H:\3rdparty\schismtracker-build\schismtracker\schism\page_waterfall.c:548:13: error: redefinition of 'do_nil'
static void do_nil(void) {}
            ^
H:\3rdparty\schismtracker-build\schismtracker\schism\itf.c:1101:13: note: previous definition is here
static void do_nil(void) {}
            ^
#+end_example
** Static In Inline

#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:330:26: error: static variable 'whitespace' is 
used in an inline function with external linkage [-Werror,-Wstatic-in-inline]
 while (len > 0 && index(whitespace, s[len]))
                         ^
schismtracker/include/util.h:164:1: note: use 'static' to give inline function 'rtrim_string' internal linkage
int rtrim_string(char *s);
^
static 
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:314:20: note: 'whitespace' declared here
static const char *whitespace = " \t\v\r\n";
                   ^
In file included from H:\3rdparty\schismtracker-build\build\schismtracker-unity\Unity1.c:149:
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:318:21: error: static variable 'whitespace' is used in an inline function with external linkage [-Werror,-Wstatic-in-inline]
 int ws = strspn(s, whitespace);
                    ^
schismtracker/include/util.h:163:1: note: use 'static' to give inline function 'ltrim_string' internal linkage
int ltrim_string(char *s);
^
static 
H:\3rdparty\schismtracker-build\schismtracker\schism\util.c:314:20: note: 'whitespace' declared here
static const char *whitespace = " \t\v\r\n";
                   ^
#+end_example

** Other warnings

#+begin_example
H:\3rdparty\schismtracker-build\schismtracker\schism\isysev.c:1122:67: error: comparison of constant 256 with expression of type 'Uint8' (aka 'unsigned char') is always false [-Werror,-Wtautological-constant-out-of-range-compare]
   if (sdlev.jbutton.which > SKDEV_ID_MAX || sdlev.jbutton.button > 256)
#+end_example

